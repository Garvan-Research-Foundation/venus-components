var K=Object.create;var T=Object.defineProperty;var X=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var rr=Object.getPrototypeOf,tr=Object.prototype.hasOwnProperty;var er=(t,r)=>{for(var e in r)T(t,e,{get:r[e],enumerable:!0})},$=(t,r,e,c)=>{if(r&&typeof r=="object"||typeof r=="function")for(let p of Z(r))!tr.call(t,p)&&p!==e&&T(t,p,{get:()=>r[p],enumerable:!(c=X(r,p))||c.enumerable});return t};var j=(t,r,e)=>(e=t!=null?K(rr(t)):{},$(r||!t||!t.__esModule?T(e,"default",{value:t,enumerable:!0}):e,t)),or=t=>$(T({},"__esModule",{value:!0}),t);var dr={};er(dr,{ClientApi:()=>_,addArgTypes:()=>Y,addArgTypesEnhancer:()=>U,addArgs:()=>V,addArgsEnhancer:()=>Q,addDecorator:()=>L,addLoader:()=>N,addParameters:()=>z,addStepRunner:()=>B,getQueryParam:()=>nr,getQueryParams:()=>q,setGlobalRender:()=>H});module.exports=or(dr);var D=require("ts-dedent"),G=j(require("global")),O=require("@storybook/client-logger"),I=require("@storybook/csf"),u=require("@storybook/store");var R=j(require("global")),v=require("ts-dedent"),M=require("synchronous-promise"),g=require("@storybook/csf"),k=require("@storybook/store"),C=require("@storybook/client-logger"),b=class{constructor(){this.projectAnnotations={loaders:[],decorators:[],parameters:{},argsEnhancers:[],argTypesEnhancers:[],args:{},argTypes:{}},this.entries={},this.csfExports={}}importFn(r){return M.SynchronousPromise.resolve().then(()=>{let e=this.csfExports[r];if(!e)throw new Error(`Unknown path: ${r}`);return e})}getStoryIndex(r){var d,S;let e=Object.keys(this.csfExports),c=(S=(d=this.projectAnnotations.parameters)==null?void 0:d.options)==null?void 0:S.storySort,A=Object.entries(this.entries).map(([o,{type:i,importPath:m,...s}])=>{let n=this.csfExports[m],E=r.processCSFFileWithCache(n,m,n.default.title),f;return i==="story"?f=r.storyFromCSFFile({storyId:o,csfFile:E}):f={...s,story:s.name,kind:s.title,componentId:(0,g.toId)(s.componentId||s.title),parameters:{fileName:m}},[o,f,E.meta.parameters,this.projectAnnotations.parameters]}),h;try{h=(0,k.sortStoriesV6)(A,c,e)}catch(o){throw typeof c=="function"?new Error(v.dedent`
          Error sorting stories with sort parameter ${c}:

          > ${o.message}
          
          Are you using a V7-style sort function in V6 compatibility mode?
          
          More info: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#v7-style-story-sort
        `):o}let a=h.reduce((o,i)=>(o[i.id]=this.entries[i.id],o),{});return{v:4,entries:a}}clearFilenameExports(r){!this.csfExports[r]||(Object.entries(this.entries).forEach(([e,{importPath:c}])=>{c===r&&delete this.entries[e]}),this.csfExports[r]={})}addStoriesFromExports(r,e){if(r.match(/\.mdx$/)&&!r.match(/\.stories\.mdx$/)||this.csfExports[r]===e)return;this.clearFilenameExports(r);let{default:c,__namedExportsOrder:p,...A}=e,{id:h,title:a,tags:d=[]}=c||{},S=(R.default.STORIES||[]).map(s=>({...s,importPathMatcher:new RegExp(s.importPathMatcher)}));if(a=(0,k.userOrAutoTitle)(r,S,a),!a){C.logger.info(`Unexpected default export without title in '${r}': ${JSON.stringify(e.default)}`);return}this.csfExports[r]={...e,default:{...c,title:a}};let o=A;Array.isArray(p)&&(o={},p.forEach(s=>{let n=A[s];n&&(o[s]=n)}));let i=Object.entries(o).filter(([s])=>(0,g.isExportStory)(s,c)),m=R.default.DOCS_OPTIONS||{};if(m.enabled&&i.length&&(r.match(/\.mdx$/)||m.docsPage&&d.includes("docsPage"))){let s=m.defaultName,n=(0,g.toId)(h||a,s);this.entries[n]={type:"docs",standalone:!1,id:n,title:a,name:s,importPath:r,...h&&{componentId:h},tags:[...d,"docs"],storiesImports:[]}}i.forEach(([s,n])=>{var w,x,F;let E=(0,g.storyNameFromExport)(s),f=((w=n.parameters)==null?void 0:w.__id)||(0,g.toId)(h||a,E),P=typeof n!="function"&&n.name||n.storyName||((x=n.story)==null?void 0:x.name)||E;(F=n.parameters)!=null&&F.docsOnly||(this.entries[f]={type:"story",id:f,name:P,title:a,importPath:r,...h&&{componentId:h},tags:[...n.tags||d,"story"]})})}};var l,ar={addDecorator:"Instead, use `export const decorators = [];` in your `preview.js`.",addParameters:"Instead, use `export const parameters = {};` in your `preview.js`.",addLoader:"Instead, use `export const loaders = [];` in your `preview.js`.",addArgs:"",addArgTypes:"",addArgsEnhancer:"",addArgTypesEnhancer:"",addStepRunner:"",getGlobalRender:"",setGlobalRender:""},y=t=>{var r;if((r=G.default.FEATURES)!=null&&r.storyStoreV7)throw new Error(D.dedent`You cannot use \`${t}\` with the new Story Store.

      ${ar[t]}`);if(!l)throw new Error(`Singleton client API not yet initialized, cannot call \`${t}\`.`)},L=t=>{y("addDecorator"),l.addDecorator(t)},z=t=>{y("addParameters"),l.addParameters(t)},N=t=>{y("addLoader"),l.addLoader(t)},V=t=>{y("addArgs"),l.addArgs(t)},Y=t=>{y("addArgTypes"),l.addArgTypes(t)},Q=t=>{y("addArgsEnhancer"),l.addArgsEnhancer(t)},U=t=>{y("addArgTypesEnhancer"),l.addArgTypesEnhancer(t)},B=t=>{y("addStepRunner"),l.addStepRunner(t)};var H=t=>{y("setGlobalRender"),l.facade.projectAnnotations.render=t},sr=new Set(["string","number","boolean","symbol"]),_=class{constructor({storyStore:r}={}){this.lastFileName=0;this.addDecorator=r=>{this.facade.projectAnnotations.decorators.push(r)};this.addParameters=({globals:r,globalTypes:e,...c})=>{this.facade.projectAnnotations.parameters=(0,u.combineParameters)(this.facade.projectAnnotations.parameters,c),r&&(this.facade.projectAnnotations.globals={...this.facade.projectAnnotations.globals,...r}),e&&(this.facade.projectAnnotations.globalTypes={...this.facade.projectAnnotations.globalTypes,...(0,u.normalizeInputTypes)(e)})};this.addStepRunner=r=>{this.facade.projectAnnotations.runStep=(0,u.composeStepRunners)([this.facade.projectAnnotations.runStep,r].filter(Boolean))};this.addLoader=r=>{this.facade.projectAnnotations.loaders.push(r)};this.addArgs=r=>{this.facade.projectAnnotations.args={...this.facade.projectAnnotations.args,...r}};this.addArgTypes=r=>{this.facade.projectAnnotations.argTypes={...this.facade.projectAnnotations.argTypes,...(0,u.normalizeInputTypes)(r)}};this.addArgsEnhancer=r=>{this.facade.projectAnnotations.argsEnhancers.push(r)};this.addArgTypesEnhancer=r=>{this.facade.projectAnnotations.argTypesEnhancers.push(r)};this._addedExports={};this.storiesOf=(r,e)=>{if(!r&&typeof r!="string")throw new Error("Invalid or missing kind provided for stories, should be a string");if(e||O.logger.warn(`Missing 'module' parameter for story with a kind of '${r}'. It will break your HMR`),e){let o=Object.getPrototypeOf(e);o.exports&&o.exports.default&&O.logger.error(`Illegal mix of CSF default export and storiesOf calls in a single file: ${o.i}`)}let c=e&&e.id?`${e.id}`:(this.lastFileName++).toString(),p=c,A=1;for(;this._addedExports[p];)A+=1,p=`${c}-${A}`;e&&e.hot&&e.hot.accept&&(e.hot.accept(),e.hot.dispose(()=>{this.facade.clearFilenameExports(p),delete this._addedExports[p],setTimeout(()=>{var o;this._loadAddedExports(),(o=this.onImportFnChanged)==null||o.call(this,{importFn:this.importFn.bind(this)})},0)}));let h=!1,a={kind:r.toString(),add:()=>a,addDecorator:()=>a,addLoader:()=>a,addParameters:()=>a};Object.keys(this.addons).forEach(o=>{let i=this.addons[o];a[o]=(...m)=>(i.apply(a,m),a)});let d={id:(0,I.sanitize)(r),title:r,decorators:[],loaders:[],parameters:{}};this._addedExports[p]={default:d};let S=0;return a.add=(o,i,m={})=>{if(h=!0,typeof o!="string")throw new Error(`Invalid or missing storyName provided for a "${r}" story.`);if(!i||Array.isArray(i)||sr.has(typeof i))throw new Error(`Cannot load story "${o}" in "${r}" due to invalid format. Storybook expected a function/object but received ${typeof i} instead.`);let{decorators:s,loaders:n,component:E,args:f,argTypes:P,...w}=m,x=m.__id||(0,I.toId)(r,o),F=this._addedExports[p];return F[`story${S}`]={name:o,parameters:{fileName:p,__id:x,...w},decorators:s,loaders:n,args:f,argTypes:P,component:E,render:i},S+=1,a},a.addDecorator=o=>{if(h)throw new Error(`You cannot add a decorator after the first story for a kind.
Read more here: https://github.com/storybookjs/storybook/blob/master/MIGRATION.md#can-no-longer-add-decoratorsparameters-after-stories`);return d.decorators.push(o),a},a.addLoader=o=>{if(h)throw new Error("You cannot add a loader after the first story for a kind.");return d.loaders.push(o),a},a.addParameters=({component:o,args:i,argTypes:m,tags:s,...n})=>{if(h)throw new Error(`You cannot add parameters after the first story for a kind.
Read more here: https://github.com/storybookjs/storybook/blob/master/MIGRATION.md#can-no-longer-add-decoratorsparameters-after-stories`);return d.parameters=(0,u.combineParameters)(d.parameters,n),o&&(d.component=o),i&&(d.args={...d.args,...i}),m&&(d.argTypes={...d.argTypes,...m}),s&&(d.tags=s),a},a};this.raw=()=>this.storyStore.raw();this.facade=new b,this.addons={},this.storyStore=r,l=this}importFn(r){return this.facade.importFn(r)}getStoryIndex(){if(!this.storyStore)throw new Error("Cannot get story index before setting storyStore");return this.facade.getStoryIndex(this.storyStore)}_loadAddedExports(){Object.entries(this._addedExports).forEach(([r,e])=>this.facade.addStoriesFromExports(r,e))}get _storyStore(){return this.storyStore}};var J=j(require("global")),W=require("qs"),q=()=>{let{document:t}=J.default;return t&&t.location&&t.location.search?(0,W.parse)(t.location.search,{ignoreQueryPrefix:!0}):{}},nr=t=>q()[t];0&&(module.exports={ClientApi,addArgTypes,addArgTypesEnhancer,addArgs,addArgsEnhancer,addDecorator,addLoader,addParameters,addStepRunner,getQueryParam,getQueryParams,setGlobalRender});
